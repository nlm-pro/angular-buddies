# Prettier-schematics

> [@angular/devkit](http://github.com/angular/devkit) Schematics for [Prettier](http://github.com/prettier/prettier).

## Motivation

Based on [the comment](https://github.com/angular/angular-cli/issues/7379#issuecomment-324615905) added to an associated issue in angular-cli.

## Installation

### With Angular CLI v6+

The main goal of this package is to permit to add Prettier dependencies, scripts and default configuration to your Angular CLI workspace in just one command :

`ng add @mace/prettier-schematics`

### Without Angular CLI v6+

You can also install prettier-schematics with npm or yarn, using :

* `npm i [-g] @mace/prettier-schematics`
* or `yarn [global] add @mace/prettier-schematics`

## Schematics

In order to run one of the following schematics, you could either use :

* Angular CLI

  `ng generate <schematic> --collection=@mace/prettier-schematics`

* or the Schematics CLI

  `schematics @mace/prettier-schematics:<schematic>`

  To do so, you'll have to install it globally, along with prettier-schematics :

  * `npm i -g @angular-devkit/schematics-cli`
  * or `yarn global add @angular-devkit/schematics-cli`

For more informations about Schematics, go to
[Schematics — An Introduction](https://blog.angular.io/schematics-an-introduction-dc1dfbc2a2b2).

### prettier-init

Initialize your project to allow the use of prettier.

> Alias : `ng-add`

> The following schematics are also run when using this one : `prettier-config`

_This is the schematic Angular CLI will run when using `ng add`._

#### Options

<details>
  <summary>skip-install</summary>
  <p>
    <code>--skip-install</code>
  </p>
  <p>
    Do not run npm / yarn install after adding the required dependencies.
  </p>
</details>
<details>
  <summary>skip-scripts</summary>
  <p>
    <code>--skip-scripts</code>
  </p>
  <p>
    Do not generate the scripts helping to run prettier on your workspace
  </p>
</details>
<details>
  <summary>hook</summary>
  <p>
    <code>--hook</code>
  </p>
  <p>
    Also run the prettier-hook schematic in order to add the associated pre-commit hook.
  </p>
  <p>
    Default: true
  </p>
</details>

\+ all `prettier-config` and `prettier-hook` options

### prettier-config

Generate prettier config files.

#### Options

<details>
  <summary>single-quote</summary>
  <p>
    <code>--single-quote boolean</code>
  </p>
  <p>
    Set <a href="https://prettier.io/docs/en/options.html#quotes">single-quote</a> Prettier rule value.
  </p>
  <p>
    Default: true
  </p>
</details>
<details>
  <summary>print-width</summary>
  <p>
    <code>--print-width number</code>
  </p>
  <p>
    Set <a href="https://prettier.io/docs/en/options.html#print-width">print-width</a> Prettier rule value.
  </p>
  <p>
    Default: 120
  </p>
</details>

### prettier-hook

Generate a git pre-commit hook (thanks to husky and lint-staged) which auto-format your staged files with prettier before any commit.

#### Options

<details>
  <summary>skip-install</summary>
  <p>
    <code>--skip-install</code>
  </p>
  <p>
    Do not run npm / yarn install after adding the required dependencies.
  </p>
</details>

## Scripts

Scripts are generated by the `prettier-init` schematic. You'll need to run it before using this scripts.

### Prettify

Run prettier on all your workspace files.

Command : `npm run prettify`

## Misc

See my current [TO-DO List](TODO.md) for more informations on upcoming features.
